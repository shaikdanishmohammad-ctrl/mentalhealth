<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mental Health Wellness Platform</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0; padding: 0;
    background: #f2f8ff;
    color: #123854;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }
  header {
    background: #4a90e2;
    width: 100%;
    padding: 20px 0;
    text-align: center;
    color: white;
    font-size: 2rem;
    font-weight: 700;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  main {
    flex: 1;
    width: 90%;
    max-width: 800px;
    margin: 24px auto 48px;
    background: white;
    border-radius: 16px;
    padding: 20px 24px;
    box-shadow: 0 6px 15px rgba(74, 144, 226, 0.3);
  }
  h2 {
    margin-top: 0;
    color: #234a6d;
  }
  .mood-section, .journal-section, .recommend-section, .chart-section {
    margin-bottom: 28px;
  }
  .emoji-buttons button {
    font-size: 2.6rem;
    border: none;
    background: transparent;
    margin: 0 12px;
    cursor: pointer;
    transition: transform 0.2s ease;
  }
  .emoji-buttons button.selected {
    transform: scale(1.35);
    filter: drop-shadow(0 0 4px #3B7DD8);
  }
  textarea {
    width: 100%;
    height: 100px;
    font-size: 1.1rem;
    margin-top: 12px;
    border-radius: 10px;
    border: 2px solid #a3c1ff;
    padding: 12px;
    font-family: inherit;
    resize: vertical;
  }
  button#submitEntry {
    background: #4a90e2;
    color: white;
    border: none;
    padding: 14px 30px;
    border-radius: 12px;
    font-size: 1.15rem;
    cursor: pointer;
    margin-top: 16px;
    box-shadow: 0 6px 14px rgba(74, 144, 226, 0.5);
    transition: background-color 0.3s ease;
  }
  button#submitEntry:hover {
    background: #3b6ecf;
  }
  .recommendations {
    font-weight: 600;
    color: #154880;
    padding: 10px 14px;
    border-left: 6px solid #4a90e2;
    background: #dcebff;
    border-radius: 8px;
  }
  canvas {
    max-width: 100%;
    height: 300px;
    margin-top: 18px;
  }
  @media(max-width: 480px) {
    .emoji-buttons button {
      font-size: 2rem;
      margin: 0 6px;
    }
    textarea {
      height: 80px;
    }
  }
</style>
</head>
<body>

<header>Mental Health Wellness Platform</header>

<main>
  <section class="mood-section">
    <h2>Daily Mood Check-In</h2>
    <p>How are you feeling today? Choose your mood:</p>
    <div class="emoji-buttons" aria-label="Select your mood">
      <button aria-label="Very Happy" data-score="5">üòÑ</button>
      <button aria-label="Happy" data-score="4">üôÇ</button>
      <button aria-label="Neutral" data-score="3">üòê</button>
      <button aria-label="Sad" data-score="2">üòü</button>
      <button aria-label="Very Sad" data-score="1">üò¢</button>
    </div>
  </section>

  <section class="journal-section">
    <h2>Journal Your Mood</h2>
    <textarea id="journalInput" placeholder="Write about your day or feelings..."></textarea>
    <button id="submitEntry" aria-label="Submit your mood and journal entry">Submit Entry</button>
  </section>

  <section class="recommend-section" aria-live="polite" aria-atomic="true" id="recommendationArea">
    <h2>Wellness Recommendations</h2>
    <div class="recommendations" id="recommendations">Submit your mood and journal to see suggestions.</div>
  </section>

  <section class="chart-section">
    <h2>Mood Trends</h2>
    <canvas id="moodChart" aria-label="Mood trends over time" role="img"></canvas>
  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Helper: Basic sentiment classification with positive and negative keywords
  const positiveWords = ['happy', 'glad', 'joy', 'good', 'great', 'love', 'excited', 'thankful', 'calm', 'hope'];
  const negativeWords = ['sad', 'angry', 'hate', 'pain', 'tired', 'stress', 'anxious', 'worried', 'upset', 'lonely'];

  let selectedMoodScore = null;
  let moodData = [];
  let journalData = [];

  // Elements
  const buttons = document.querySelectorAll('.emoji-buttons button');
  const journalInput = document.getElementById('journalInput');
  const submitBtn = document.getElementById('submitEntry');
  const recommendationsDiv = document.getElementById('recommendations');
  const ctx = document.getElementById('moodChart').getContext('2d');

  // Chart initialization
  const chart = new Chart(ctx, {
    type: 'line',
    data: {
      labels: [],
      datasets: [{
        label: 'Mood Score (1=Very Sad, 5=Very Happy)',
        data: [],
        fill: false,
        borderColor: '#4a90e2',
        tension: 0.3,
        pointRadius: 5
      }]
    },
    options: {
      responsive: true,
      scales: {
        y: {
          min: 0,
          max: 5,
          ticks: { stepSize: 1 }
        }
      }
    }
  });

  // Select mood button logic
  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      buttons.forEach(b => b.classList.remove('selected'));
      btn.classList.add('selected');
      selectedMoodScore = parseInt(btn.dataset.score);
    });
  });

  // Basic sentiment analysis scoring
  function analyzeSentiment(text) {
    const lower = text.toLowerCase();
    let posCount = positiveWords.reduce((acc, word) => acc + (lower.includes(word) ? 1 : 0), 0);
    let negCount = negativeWords.reduce((acc, word) => acc + (lower.includes(word) ? 1 : 0), 0);
    if (posCount > negCount) return 'positive';
    if (negCount > posCount) return 'negative';
    return 'neutral';
  }

  // Generate wellness recommendations based on mood and sentiment
  function generateRecommendations(moodScore, sentiment) {
    if (moodScore >= 4 && sentiment === 'positive') {
      return "You're doing great! Keep up your healthy habits and stay connected with loved ones.";
    } else if (moodScore >= 3 && sentiment === 'neutral') {
      return "Consider spending some time outdoors or practicing mindfulness today.";
    } else if (moodScore <= 2 && sentiment === 'negative') {
      return "Try relaxation exercises or reach out to a supportive friend or counselor.";
    } else {
      return "Keep journaling your feelings ‚Äì understanding your emotions is a key step to wellness.";
    }
  }

  // Update the mood trend chart
  function updateMoodChart() {
    const labels = moodData.map(entry => entry.date);
    const data = moodData.map(entry => entry.score);
    chart.data.labels = labels;
    chart.data.datasets[0].data = data;
    chart.update();
  }

  // Format date as readable string
  function formatDate(date) {
    return date.toLocaleDateString(undefined, { month: 'short', day: 'numeric' });
  }

  // On submit entry
  submitBtn.addEventListener('click', () => {
    if (!selectedMoodScore) {
      alert('Please select your mood before submitting.');
      return;
    }
    const journalText = journalInput.value.trim();

    // Save current day entry (overwrite if same day)
    const today = new Date();
    const dateStr = formatDate(today);
    const index = moodData.findIndex(e => e.date === dateStr);
    if (index > -1) {
      moodData[index] = { date: dateStr, score: selectedMoodScore };
      journalData[index] = journalText;
    } else {
      moodData.push({ date: dateStr, score: selectedMoodScore });
      journalData.push(journalText);
    }

    // Analyze sentiment from journal
    const sentiment = analyzeSentiment(journalText);
    // Generate recommendations
    const wellnessTips = generateRecommendations(selectedMoodScore, sentiment);
    recommendationsDiv.textContent = wellnessTips;

    // Update chart
    updateMoodChart();

    // Reset inputs
    buttons.forEach(b => b.classList.remove('selected'));
    selectedMoodScore = null;
    journalInput.value = '';
  });
</script>

</body>
</html>
